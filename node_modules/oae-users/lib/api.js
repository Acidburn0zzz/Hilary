var userModel = require('./model.js');

// Temporarily cache our users in memory
var userCache = {};

module.exports.listUsers = function(tenantId) {
    return userCache[tenantId];
};

module.exports.listAllUsers = function() {
    return userCache;
};

module.exports.createUser = function(firstName, lastName, tenantId) {
    userCache[tenantId] = userCache[tenantId] || [];
    userCache[tenantId].push(new userModel.User(tenantId, firstName, lastName));
};

module.exports.getUser = function(userId) {
    for (var t in userCache) {
        for (var u = 0; u < userCache[t].length; u++) {
            if (userCache[t][u].id === userId) {
                return userCache[t][u];
            }
        };
    }
};